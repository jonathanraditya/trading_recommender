(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(e,n){return function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,a,o=[],r=!0,d=!1;try{for(n=n.call(t);!(r=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);r=!0);}catch(t){d=!0,a=t}finally{try{r||null==n.return||n.return()}finally{if(d)throw a}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=885,a=function(){function t(e,n,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.can_serve_ads=e,this.can_cookie=n,this.can_dmp=i,this.can_programmatic=a}var n,i;return n=t,(i=[{key:"toString",value:function(){return"permissions<can_serve_ads="+this.can_serve_ads+", can_cookie="+this.can_cookie+", can_dmp="+this.can_dmp+", can_programmatic="+this.can_programmatic+">"}}])&&e(n.prototype,i),t}();function o(t,e){for(var n in t)if(!e.vendor.consents[t[n]])return!1;for(var i=e.purpose.consents,a=1;a<=Object.keys(i).length;a++)if(!i[a])return!1;return!0}const r={decideTCF:function(t,e,r){if(!t.gdprApplies)throw"decideTCF shouldn't be called if gdprApplies=false";if(r)return new a(!0,!0,!0,!0);var d=new a(!1,!1,!1,!1),s={};"string"!=typeof t.purpose.consents&&(s=t.purpose.consents);var c={};"string"!=typeof t.purpose.legitimateInterests&&(c=t.purpose.legitimateInterests);var l=t.vendor.legitimateInterests[885],u=t.vendor.consents[885];return null!==e&&e<69&&(l=!0,u=!1),Object.entries(t.publisher.restrictions).forEach((function(t){var e=n(t,2),a=e[0],o=e[1];Object.entries(o).forEach((function(t){var e=n(t,2),o=e[0],r=e[1];if(parseInt(o)===i){var d=r;0===d?(c[a]=!1,s[a]=!1):2===d?s[a]=!1:1===d&&(c[a]=!1)}}))})),d.can_serve_ads=Boolean(c[2]&&c[7]&&c[10]&&l),d.can_cookie=Boolean(d.can_serve_ads&&s[1]&&s[2]&&s[7]&&s[10]&&u),d.can_programmatic=d.can_serve_ads&&o([129,686,128,i,468,97,163],t),d.can_dmp=d.can_serve_ads&&o([i,468,97,163],t),d},DIANOMI_VENDOR_ID:i,Permissions:a};function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=!1,l=!1,u=!1;function m(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a;u&&(a=console).log.apply(a,["%ctcflib.js: %o","color: red",t].concat(s(n)))}function f(t){if(m("dianomiRegisterTCF:",{dianomiTCFRegistered:c}),c&&t(l),!c)var e=0,n=setInterval((function(){(l=h())&&(c=!0,clearInterval(n),t(!0)),++e>20&&(clearInterval(n),t(!1))}),5)}function p(t){window.__tcfapi("ping",2,(function(e,n){m("getVendorListVersion ",{pingReturn:e,success:n}),t(e&&n?e.gvlVersion:null)}))}function h(){var t="function"==typeof window.__tcfapi;if(m("dianomiTCF:",{tcf_is_function:t}),t)return!0;for(var e=window,n=null,i={};e;){try{if(e.frames.__tcfapiLocator){n=e;break}}catch(t){}if(e===window.top)break;e=e.parent}return window.__tcfapi=function(t,e,a,o){if(m("dianomi_tcfapi called:",{cmd:t,version:e,callback:a,arg:o}),n){var r=t+"-"+Math.random(),d={__tcfapiCall:{command:t,parameter:o,version:e,callId:r}};i[r]=a,n.postMessage(d,"*")}else a({msg:"CMP not found"},!1)},window.addEventListener("message",(function(t){m("postMessageHandler:",{event:t});var e={};try{e="string"==typeof t.data?JSON.parse(t.data):t.data}catch(t){}var n=e.__tcfapiReturn;n&&"function"==typeof i[n.callId]&&(i[n.callId](n.returnValue,n.success),n.callId.startsWith("addEventListener")||(i[n.callId]=null))}),!1),m("dianomiTCF: addEventListener => postMessageHandler"),!!n}var g=function(t,e,n,i){m("dianomHandleTCFData",{tcData:t,serverPermissions:e,isStaff:n}),p((function(a){f((function(o){if(null===t||!t.gdprApplies)return m("dianomiRegisterTCF: ".concat(null===t?"tcData === null":"!tcData.gdprApplies => "+(null==t?void 0:t.gdprApplies)," decideNoTCF case")),void i(null,e,n,a);var d=r.decideTCF(t,a,n);m("dianomiRegisterTCF: tcfPermissions.decide()",{permissions:d,tcData:t,vendorListVersion:a}),m("dianomiRegisterTCF: permissions",{permissions:d}),i(t,d,n,a)}))}))};const v=function(t,e,n){m("dianomiGetTCDataLater",{serverPermissions:e,isStaff:n}),f((function(i){m("dianomiGetTCDataLater: dianomiRegisterTCF:",{hasTCF:i}),i?(m("dianomiGetTCDataLater: dianomiRegisterTCF:",{dianomiHasTCF:l}),l?window.__tcfapi("addEventListener",2,(function(i,a){m("dianomiGetTCDataLater: dianomiRegisterTCF: _tcfapi",{tcData:i,success:a}),a&&"cmpuishown"!=i.eventStatus&&g(i,e,n,t),a||g(null,e,n,t)})):g(null,e,n,t)):g(null,e,n,t)}))},y=function(t){u=t};const w=function(t,e,n){var i;i=function(){return function(t,e,n,i){var a="https://"+t+"/cgi-bin/pixeltrack.pl?action=tcf_blank";e&&(a+="&smartad_id="+e),n&&(a+="&context_id="+n),i&&(a+="&cf="+encodeURIComponent(i)),navigator.sendBeacon(a)}(t,null,e,n)},Math.random()<.01&&i()};var b,_,C,x,A="www.dianomi.com",I=!1,E=0,O={videoDebug:!1,tcfDebug:!1};function S(t){var e="".concat(t.partner_id,".").concat(t.cfid);return t.name&&(e="".concat(e,".").concat(t.name)),e}function L(t,e,n,i,a,o){var r=function(t,e,n){if(t.hasOwnProperty("when")&&t.when.hasOwnProperty(e)){for(var i=t.when[e],a=0;a<i.length;a++)if(i[a]===n)return!0;return!1}return!0};if(n["dianomi-tcf"]&&console.log("contextfeed tcf debug enabled, context id",t," tcData",i,"permissions=",a,"isStaff=",o),!n["dianomi-tcf"]&&"2.0"!=n.partner_tcf_status||!a||a.can_serve_ads){!n["dianomi-tcf"]&&"2.0"!=n.partner_tcf_status||null!==i||(n["dianomi-tcf"]&&console.log("context feed tcf debug, no tcf object for context id",t),w(A,t,S(n)));var d,s,c=Date.now(),l=function(){return window.innerWidth||document.documentElement.clientWidth},u=l();window.addEventListener("resize",(function(){l()}),!1);var m={dianomiDeclarations:function(t){d=document.createElement("div");var i="650px",a="auto";t.width&&(i=t.width),t.height&&(a=t.height),s=S(n),d.style.maxWidth=i,d.style.height=a,d.style.margin="0 auto",k(d,t,u),window.addEventListener("resize",(function(){k(d,t,u)}),!1),e.appendChild(d);var o=document.createElement("div");o.style.borderBottom="1px solid #ccc",o.style.marginBottom="5px",o.style.position="relative",o.style.height="13px";var r=void 0!==n.user.country_code?"&geo_ccod="+n.user.country_code:"";o.innerHTML="<a href='https://"+A+".dianomi.com/cms/whats-this/?utm.source="+window.location.hostname+"&utm_medium=smartad_sponsor_link' target='_blank'> <span style='font-size: 10px;color: #748683; position: absolute; width: 125px; right: 0; font-family: helvetica, arial, sans-serif;'>Context Feed by <img src='https://www.dianomi.com/img/dianomi-max-200x38.png' alt='dianomi' style='width: 45px;height: auto; display: inline;'><img src='https://www.dianomi.com/cgi-bin/pixeltrack.pl?cf="+encodeURIComponent(s)+r+"'></span></a>",e.appendChild(d);var c=document.createElement("link");if(c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href","https://"+A+"/partner/dianomi/css/dianomi-context.css?v=1.1"),document.body.appendChild(c),n.header_html){var l=document.createElement("div");l.innerHTML=n.header_html,d.appendChild(l)}t.hasOwnProperty("iframebuster")&&("loading"==document.readyState?document.addEventListener("DOMContentLoaded",M):M())},video:function(e){var o=Math.floor(1e5*Math.random()),r="dianomi_video_".concat(e.id,"_").concat(o);window[r]={args:e,context_id:t,dianomiContextHost:A,data:n,tcData:i,can_serve_ads:null==a?void 0:a.can_serve_ads,can_cookie:null==a?void 0:a.can_cookie,can_programmatic:null==a?void 0:a.can_programmatic,viewportWidth:u,dianomiContextAffiliate:b,dianomiContextProductTypeId:_,randomId:o,videoDebug:O.videoDebug,dianomiPageUrl:C,cf:s};var c=document.createElement("div");c.id="dianomi-video-container-".concat(e.id,"-").concat(o),c.classList.add("dianomi_video"),D(c,e,u),T(c,e,u,!0),window.addEventListener("resize",(function(){T(c,e,u,!0),D(c,e,u)}),!1),d.appendChild(c);var l=document.createElement("script");l.src="https://"+A+"/js/contextfeed/videofeed.js?v=20220204173613499",l.id="dianomi_video_script",l.type="text/javascript",l.setAttribute("dianomi-variable-name",r),d.appendChild(l),function(){for(var t=document.getElementsByClassName("dianomi_video"),e=0;e<t.length;e++){var n=window.getComputedStyle(t[e]).width;"300px"==n?t[e].classList.add("dianomi-mpu-video"):n>"300px"&&n<"480px"&&t[e].classList.add("dianomi-smaller-video")}}()},smartad:function(t){if(t.hasOwnProperty("inline")){var e="https://"+A+"/smartads.epl?id="+t.id+"&callback=callback"+t.id+"&return_as=callback%20function",o=document.createElement("script");o.setAttribute("src",e),window["callback"+t.id]=function(t){var e="SMART HTML :"+t,n=document.getElementById("test");n&&(n.innerHTML=e)};var r=document.createElement("div");r.classList.add("dianomiContent"),r.style.display="block",r.setAttribute("id","test"),d.appendChild(r),document.body.appendChild(o)}else{var l=document.createElement("iframe"),m="https://"+A+"/smartads.epl?id="+t.id+"&num_ads="+t.num_ads;if(t.hasOwnProperty("shuffle")&&"0"===t.shuffle&&(m+="&shuffle=0"),t.hasOwnProperty("start")&&(m+="&start="+t.start),t.hasOwnProperty("seed")&&(m+="&seed="+c),s&&(m+="&cf="+encodeURIComponent(s)),"2.0"==n.partner_tcf_status||n["dianomi-tcf"]){var f="";null!=i&&(f=i.tcString),m+="&tcString="+f+"&can_serve_ads="+a.can_serve_ads+"&can_cookie="+a.can_cookie+"&can_programmatic="+a.can_programmatic+"&can_dmp="+a.can_dmp}n.partner_tcf_status&&(m+="&partner_tcf_status="+n.partner_tcf_status),void 0!==b&&null!=b&&(m+="&affiliate="+b),void 0!==_&&null!=_&&(m+="&productTypeId="+_),void 0!==C&&null!=C&&(m+="&url="+encodeURIComponent(C));var p="dianomi-".concat(t.id,"-").concat(n.unique_id).concat(E++);m+="&unitId="+p,t.id&&(l.id=t.id),l.setAttribute("data-dianomi-unit-id",p),t.order&&(l.style.order=t.order),l.setAttribute("title","dianomi SmartAd Content");var h=!1;t.hasOwnProperty("lazy")&&"1"===t.lazy?(I=!0,h=!0,l.className="lazy dianomiLazy",l.setAttribute("data-src",m)):l.setAttribute("src",m),t.scrolling&&(l.style.overflow=t.scrolling),t.minWidth&&(l.style.minWidth=t.minWidth),t.margin&&(l.style.margin=t.margin),t.maxWidth&&(l.style.maxWidth=t.maxWidth),T(l,t,u),D(l,t,u),P(l,t,u),window.addEventListener("resize",(function(){T(l,t,u),D(l,t,u),P(l,t,u)}),!1),l.style.border="none",l.style.overflow="hidden",W(l,t),d.appendChild(l),h&&j(l)}},iframe:function(t){var e=document.createElement("iframe");t.src&&(e.setAttribute("data-src",t.src),e.setAttribute("src",t.src)),e.setAttribute("title","dianomi iframe Content"),P(e,t,u),window.addEventListener("resize",(function(){P(e,t,u)}),!1),t.width&&(e.style.width=t.width),t.scrolling&&(e.style.overflow=t.scrolling),t.border&&(e.style.border=t.border),d.appendChild(e)},recirc:function(t){var e=document.createElement("iframe"),i="dianomi-".concat(t.id,"-").concat(n.unique_id).concat(E++);e.setAttribute("data-dianomi-unit-id",i);var a="https://"+A+"/recirculation.epl?id="+t.id+"&unitId="+i;t.id&&(e.id=t.id),t.hasOwnProperty("start")&&(a+="&start="+t.start),t.hasOwnProperty("seed")&&(a+="&seed="+c),s&&(a+="&cf="+encodeURIComponent(s));var o=!1;t.hasOwnProperty("lazy")&&"1"===t.lazy?(I=!0,o=!0,e.className="lazy",e.setAttribute("data-src",a)):e.setAttribute("src",a);var r="100%";t.width&&(r=t.width),e.style.width=r,e.setAttribute("title","dianomi Recirculation Content"),D(e,t,u),P(e,t,u),T(e,t,u),window.addEventListener("resize",(function(){D(e,t,u),P(e,t,u),T(e,t,u)}),!1),t.minWidth&&(e.style.minWidth=t.minWidth),e.style.border="none",e.style.overflow="hidden",W(e,t),d.appendChild(e),o&&j(e)},googleTag:function(t){var e;(e=document.createElement("script")).async=!0,e.src="https://www.googletagservices.com/tag/js/gpt.js",document.head.appendChild(e);var n=document.createElement("div"),i=document.createElement("script"),a=document.createElement("script"),o="";t.tagID&&(n.id=t.tagID),t.padding&&(n.style.padding=t.padding),t.align&&(n.style.textAlign=t.align),t.minWidth&&(n.style.minWidth=t.minWidth),T(n,t,u),D(n,t,u),n.className="googleAdFrame",i.type="text/javascript",t.hasOwnProperty("lazy")&&"1"===t.lazy&&(o="googletag.pubads().enableLazyLoad({fetchMarginPercent: 100,renderMarginPercent: 80,mobileScaling: 1.5}); "),i.text=" window.googletag = window.googletag || {cmd: []}; googletag.cmd.push(function() {googletag.defineSlot('"+t.slot+"', ["+t.sizes+"], '"+t.tagID+"').addService(googletag.pubads()); "+o+" googletag.enableServices(); });",a.type="text/javascript",a.text=" googletag.cmd.push(function() { googletag.display('"+t.tagID+"');});",document.head.appendChild(i),d.appendChild(n),n.appendChild(a)}},f={};n.args&&(f=n.args),m.dianomiDeclarations(f);for(var p=window.location.hostname,h=n.user.country_code,g=0;g<n.units.length;g++){var v=n.units[g];r(v,"domain",p)&&r(v,"country_code",h)&&m[v.type](v.args)}I&&function(){for(var t=z((function(){return F(!0)}),{threshold:1}),e=document.querySelectorAll(".dianomiLazy"),n=0;n<e.length;n++){var i=e[n];H(i,t,!1),H(i,t,!0)}}()}else n["dianomi-tcf"]&&console.log("context feed tcf debug, showing nothing due can_serve_ads for context id",t)}function P(t,e,n){var i;e.hasOwnProperty("mobileHeight")&&n<480?i=e.mobileHeight:e.hasOwnProperty("tabletHeight")&&n<769&&n>=480?i=e.tabletHeight:e.hasOwnProperty("responsiveHeight")&&window.addEventListener("message",(function(t){if("string"==typeof t.data&&t.origin==="https://"+A){var e=t.data.split("-");if(/\d{1,4}-\d{1,6}/.test(t.data)){var n=e[0],a=e[1];if(Number(a))for(var o=document.querySelectorAll("[data-dianomi-unit-id^=dianomi-".concat(a,"]")),r=0;r<o.length;r++)o[r].style.height=n+"px",i=n+"px"}if(/\d{1,4}-([a-z])\w+-\d{1,6}-/.test(t.data))for(var d=document.querySelectorAll("IFRAME"),s=0;s<d.length;s++){var c=d[s],l=e[0];if(c.getAttribute("data-dianomi-unit-id")==="dianomi-".concat(e[2],"-").concat(e[3])){c.style.height=l+"px",i=l+"px";break}}}}),!1),t.style.height=i||e.height}function T(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.hasOwnProperty("mobileWidthSM")&&n<480?t.style.width=e.mobileWidthSM:e.hasOwnProperty("mobileWidth")&&n<580?t.style.width=e.mobileWidth:e.hasOwnProperty("tabletWidth")&&n<769&&n>=580?t.style.width=e.tabletWidth:t.style.width=e.width,i&&(n<480?(t.style.padding="0",t.style.width=e.mobileWidthSM):e.hasOwnProperty("mobileWidth")&&n<580?(t.style.padding="0",t.style.width=e.mobileWidth):e.hasOwnProperty("tabletWidth")&&n<769&&n>=580?(t.style.padding="0",t.style.width=e.tabletWidth):e.hasOwnProperty("float")&&(t.style.padding="0 15px 0 0"))}function D(t,e,n){e.hasOwnProperty("mobileFloat")?t.style.cssFloat=n<480?e.mobileFloat:e.float:t.style.cssFloat=e.float}function k(t,e,n){e.hasOwnProperty("mobileDisplay")&&n<480?t.style.display=e.mobileDisplay:t.style.display="block"}function W(t,e,n){e.hasOwnProperty("display")?t.style.display=e.display:t.style.display="block"}function M(){var t=0,e=window.setInterval((function(){if(window.frameElement){var n=parent.window.frames[window.name].name,i=window.parent.document.getElementById(n);if(i){i.style.width="100%",i.style.display="block";var a=document.body.scrollHeight;console.log(a),i.style.height="".concat(20+a,"px")}}10==++t&&window.clearInterval(e)}),1e3)}function R(t){var e=t.getAttribute("data-dianomi-context-done");if(!e||"1"!==e){var n=t.getAttribute("data-dianomi-context-id"),i=t.getAttribute("data-dianomi-context-hostname");if(b=t.getAttribute("data-dianomi-context-affiliate"),_=t.getAttribute("data-dianomi-context-product-type-id"),null!==n){var a,o;i&&(A=i),a=A.split(".")[0],o=new URLSearchParams(window.location.search),Object.keys(O).forEach((function(t){var e=o.get(t)||("dev"===a).toString();O[t]=parseInt(e)?Boolean(parseInt(e)):"true"===e}));var d=new XMLHttpRequest,s="";"dev.dianomi.com"===A&&(new Date,s="&test="+Date.now());var c="https://"+A+"/cgi-bin/context.pl?id="+n+s,l=function(){var t=document.querySelectorAll(".dianomi_context")[0].getAttribute("data-referrer-url"),e=window.location!=window.parent.location?document.referrer:document.location.href;return t||e}();(function(t){try{var e=decodeURIComponent(t);return"null"!==new URL(e).origin}catch(t){return!1}})(l)&&(c+="&h="+l.split("/")[2]+"&url="+encodeURIComponent(l),C=l),d.open("GET",c,!0),d.withCredentials=!0,d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){var e=JSON.parse(d.responseText);-1!=document.location.hostname.indexOf("exedra.dianomi.com")&&(e.partner_tcf_status="0"),function(t,e,n){if("2.0"==n.partner_tcf_status||n["dianomi-tcf"]){var i=function(t){return new r.Permissions(1==t.user.can_serve_ads,1==t.user.can_cookie,1==t.user.can_dmp,1==t.user.can_programmatic)}(n),a=function(t){return 1===t.user.is_staff}(n);return y(O.tcfDebug),void v((function(i,a,o,r){L(t,e,n,i,a,o)}),i,a)}L(t,e,n,null,new r.Permissions(!0,!0,!0,!0),null)}(n,t,e)}},t.setAttribute("data-dianomi-context-done","1"),d.send()}else console.log("Couldn't find data-dianomi-context-id",t)}}function F(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===t)for(var e=document.querySelectorAll(".dianomi_context"),n=0;n<e.length;n++)R(e[n]);else F(!0)}function j(t){var e=z((function(n){n.forEach((function(n){n.isIntersecting&&(function(t){var e=t.target;if("iframe"===e.tagName.toLowerCase()){var n=e.getAttribute("data-src");n&&(e.src=n,e.classList.add("loaded"))}}(n),H(t,e,!1))}))}),{threshold:0});H(t,e,!0)}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:0};return new IntersectionObserver(t,e)}function H(t,e,n){n?e.observe(t):e.unobserve(t)}window.dianomiReloadContext=F,x=F,(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?x(!0):document.addEventListener("DOMContentLoaded",(function(){x(!0)}))})();